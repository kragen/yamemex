All annotations!
<div id="entries"></ul>
<script src="jquery-1.5.2.min.js"></script>
<script src="mustache/mustache.js"></script>
<script src="db.js"></script>
<script>
$(renderBlog);

var template = 
    '<ul>' +
    '  {{#bookmarks}}' +
    '    <li><a href="{{url}}">{{title}}</a> ' +
    '      <span class="annotation">{{annotation}}</span>' +
    '    </li>' +
    '  {{/bookmarks}}' +
    '</ul>' ;

function renderBlog() {
    var start = new Date();
    sql( 'select * from annotations order by timestamp desc'
       , []
       , function(t, results) {
           var bookmarks = [];

           for (var ii = 0; ii < results.rows.length; ii++) {
               var row = results.rows.item(ii);
               bookmarks.push({ url: row.url
                              , title: row.title || '<link>'
                              , annotation: row.annotation
                              });
           }

           $('#entries').html(Mustache.to_html(template, 
                                               {bookmarks: bookmarks}));

           var end = new Date();
           $('<p/>')
               .text( 'Rendering '+results.rows.length
                    + ' items took '
                    + ((end.getTime() - start.getTime())/1000)
                    + ' seconds.'
                    )
               .appendTo($('body'))
           ;
       }
       );
}

</script>
